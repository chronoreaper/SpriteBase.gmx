<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>oUnit</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_inherited()
var i=id
with oControler{
    ds_list_add(allUnits,i)
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_inherited()
var i=id
with oControler{
    ds_list_delete(allUnits,ds_list_find_index(allUnits,i) )
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///fog
//if draw&gt;0
event_inherited()
if oControler.selected=noone&amp;&amp;place_meeting(x,y,oControler)
||oControler.selected=id
    depth=-y*cos(degtorad(view_angle))+x*sin(degtorad(view_angle))-1000
/*if view&gt;0
if team&gt;=0
{
//fog
var v=view+round(-2*cos((hour*6+minu)*pi/(12*6))+2)
var arx=round(xx/15),ary=round(yy/15);
with oControler{
    ds_grid_add_disk(gridF1,arx,ary,v,0.2)
}
/*with oControler{
for (var i=-v;i&lt;=v;i+=1){
    for (var j=-v;j&lt;=v;j+=1){
        if abs(i)+abs(j)&lt;=v{
            var c=0//how many collisions with objects
            var on=place_meeting((arx+i)*15+0,(ary+j)*15+0,oBlock);
            var inst=collision_line(arx*15+7,ary*15+7,(arx+i)*15+7,(ary+j)*15+7,oBlock,false,true)
            while (inst!=noone){
                c++
                instance_deactivate_object(inst)
                inst=collision_line(arx*15+7,ary*15+7,(arx+i)*15+7,(ary+j)*15+7,oBlock,false,true)
            }
            instance_activate_object(oBlock)
            if c=1&amp;&amp;on=1
            ||c=0
            if arx+i&gt;0
            if ary+j&gt;0
            if arx+i&lt;ds_grid_width(gridF1)-1
            if ary+j&lt;ds_grid_height(gridF1)-1
            {
                     if ds_grid_get(gridF1,arx+i,ary+j)&lt;1
                        ds_grid_add(gridF1,arx+i,ary+j,0.2)
                }
            }
        }
    }
}
}*/
var cx=x
var cy=y
var d=1
with oControler
if ds_grid_get(gridF1,cx/15,cy/15)&lt;0.2
    d=0
draw=d
//draw=1
//old
/*
//(view*10* ((0.5)*sin(  (2*pi)/(24*60)*(time-6*60)  )+1.5))/15
var v=view
var arx=round(xx/15),ary=round(yy/15);
with oControler{
     if ds_grid_get_disk_min(gridF1,arx,ary,v)&lt;1
        ds_grid_add_disk(gridF1,arx,ary,v,0.2)
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="73">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///draw hpbar
event_inherited()
//if oControler.phase=0
if (visible&amp;&amp; draw&gt;0)
||debugging=1
{
var angle = 105
var dist = 20 //+ (dmg != hp)*(irandom(1)*3-3)
var itext = hp
var colour;
var alpha= 0.1;

if !place_meeting(oControler.x,oControler.y,oChar)
|| instance_place(oControler.x,oControler.y,oChar) == id
|| oControler.selected=id
|| oControler.phase=5
|| oControler.phase=4
   alpha = 1
colour=oControler.playerColour[team]

draw_sprite_ext(hpbarBack,0,x+7+dist*dcos(angle-view_angle),
    y+7-dist*dsin(angle-view_angle),2+10,1,-view_angle,0,alpha)
draw_sprite_ext(hpbar3,0,x+7+dist*dcos(angle-view_angle),
    y+7-dist*dsin(angle-view_angle),1+(dmg/mhp)*10,1,-view_angle,c_ltgray,alpha)
draw_sprite_ext(hpbar3,0,x+7+dist*dcos(angle-view_angle),
    y+7-dist*dsin(angle-view_angle),1+(hp/mhp)*10,1,-view_angle,colour,alpha)
draw_set_font(pixelSquish)
if findStatus(id,3)&gt;=0{//there is a shield
    draw_set_colour(c_orange)
    itext = statusStr[findStatus(id,3)]
}else
    draw_set_colour(c_white)
draw_set_alpha(alpha)
draw_text_transformed(x+7+(dist)*dcos(angle+5-view_angle),
    y+7-(dist)*dsin(angle+5-view_angle),itext
    ,1,1,-view_angle)
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
